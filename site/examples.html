<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Apr 17, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Subversion Authentication Parser Module - Usage</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Karl Heinz Marbaise" />
    <meta name="Date-Revision-yyyymmdd" content="20110417" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Subversion Authentication Parse Module
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2011-04-17</span>
                  &nbsp;| <span id="projectVersion">Version: 0.4</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
            <strong>Examples</strong>
          </li>
                  <li class="none">
                          <a href="load.html" title="Load File">Load File</a>
            </li>
                  <li class="none">
                          <a href="features.html" title="Features">Features</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!--  --><!-- The Subversion Authentication Parse Module (SAPM for short). --><!--  --><!-- Copyright (c) 2010, 2011 by SoftwareEntwicklung Beratung Schulung (SoEBeS) --><!-- Copyright (c) 2010, 2011 by Karl Heinz Marbaise --><!--  --><!-- Licensed to the Apache Software Foundation (ASF) under one or more --><!-- contributor license agreements.  See the NOTICE file distributed with --><!-- this work for additional information regarding copyright ownership. --><!-- The ASF licenses this file to You under the Apache License, Version 2.0 --><!-- (the "License"); you may not use this file except in compliance with --><!-- the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><div class="section"><h2>Examples<a name="Examples"></a></h2><div class="section"><h3>First simple example<a name="First_simple_example"></a></h3><p>You would like to define a configuration like the following with the Subversion Authentication Parser Module (SAPM for short).</p><div class="source"><pre>[/]
* = r
[repository:/test]
harry = rw
brian = rw</pre></div><p>First we need an instance of AccessRules class which stores all the rules.</p><div class="source"><pre>AccessRules accessRules = new AccessRules();</pre></div><p>The next step is to create the first rule</p><div class="source"><pre>[/]
* = r</pre></div><p>This can be achieved by using the following code snippet:</p><div class="source"><pre>User user = UserFactory.createInstance(&quot;*&quot;);
AccessRule accessRuleRoot = new AccessRule(&quot;/&quot;);
accessRuleRoot.add(user, AccessLevel.READ);
accessRules.add(accessRuleRoot);</pre></div><p>Now you have to create the second rule part.</p><div class="source"><pre>[repository:/test]
harry = rw
brian = rw</pre></div><p>The second part can be done with the following code:</p><div class="source"><pre>User userHarry = UserFactory.createInstance(&quot;harry&quot;);
User userBrian = UserFactory.createInstance(&quot;brian&quot;);

AccessRule accessRule = new AccessRule(&quot;repository&quot;, &quot;/test/trunk&quot;);
accessRule.add(userHarry, AccessLevel.READ_WRITE);
accessRule.add(userMicheal, AccessLevel.READ_WRITE);
accessRules.add(accessRule);</pre></div><p>The final step is now that you check a user against the defined rules.</p><div class="source"><pre>AccessLevel userPermission = accessRules.getAccess(user, repository, accessPath);</pre></div><p>The user represents the <tt>user</tt> which tries to get access to the <tt>repository</tt> in the given <tt>path</tt>.</p></div><div class="section"><h3>Enhanced Examples<a name="Enhanced_Examples"></a></h3><p>You have defined the following rule set in your configuration file. Either you can load that file by using the AuthenticationFile class or you can create that structure in memory to use this as a permission system.</p><div class="source"><pre>[groups]
c-developer = harry, brian
d-developer = michael, sally
e-developer = jonas
all-developer = @c-developer, @d-developer, @e-developer
[/]
* = r
[repository:/project-c/trunk]
@c-developer = rw
[repository:/project-d/trunk]
@d-developer = rw
[repository:/project-e/trunk]
@e-developer = rw
[global:/project/trunk]
@all-developer = rw</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2010-2011
                        <a href="http://www.soebes.com">SoftwareEntwicklung Beratung Schulung</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
